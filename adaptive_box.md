【角色策略】

你是一名专业的 Computer Vision，特别是 3D Vision (3D Reconstruction, 3DGS) 的研究者。现在，针对给出的文献和 Proposal （包含文字和图片），结合【研究方向提示】，给出详尽、专业、准确的研究报告。

【研究方向提示】

- Speedy-Splat 一文中提出了 SnugBox，利用 Computer Graphics 中的 AABB 技术使得 rasterize 的范围更加准确

  - Speedy-Splat 进一步提出了 Accutile，然而，Accutile 每次需要计算二次曲线（椭圆）与 Tile 的交，引入了大量计算。

- 在 3DGS 椭圆.pdf 和 Proposal_new 中，进一步提出了，将原本的 SnugBox 进一步分裂为两个。具体信息如下：

  - ### 新版 “**双-SnugBox + 倾斜拉伸**” 方案要点

    | 步骤                  | 设计思路                                                     | 技术细节                                                     | 预期收益                           |
    | --------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ---------------------------------- |
    | **1. 极值检测**       | 继承 SnugBox 思路，先算出 xmin, xmax, ymin, ymax             | 仍用解析式求椭圆四个轴对齐极值点                             | O(1) 计算，无额外成本              |
    | **2. 左右分箱**       | 以高斯中心 c 为界，把 *(ymax, x₁)*、*(xmin, y₂)* 等极值归入中心左侧，另一组归右侧 | 各自与中心点组成 **左盒 / 右盒** 两个矩形                    | 把单盒变双盒，可去掉一半以上空瓦片 |
    | **3. 倾斜自适应拉伸** | 椭圆越倾斜（长轴越接近 45°），左右盒在 *x* 方向应“收缩”；越水平/垂直则应“扩张” | 见下文                                                       | 既保证覆盖，又大幅减少冗余瓦片     |
    | **4. 双盒测试**       | 渲染阶段只需做 **两次 AABB-tile 相交测试**，取并集           | 逻辑简单，仍是常数级开销                                     | 比单 SnugBox 仅多一次判断          |
    | **5. 结果**           | “最优，但只是多了一倍 AABB”——示意图中粉色区域比原 SnugBox 红色区域明显更小 | 初步实验可望额外再削掉 ~30–40 % 空瓦片，配合 AccuTile 可进一步稀疏 | 带来更少的 tile 遍历、更高 FPS     |

    #### 创新点小结

    > **把一个紧框拆成两个“半框”，再按椭圆倾角自适应拉伸长边**——既保持了轴对齐几何的计算简洁，又让包围区域更贴合椭圆形状，显著减少了空瓦片数量；渲染端仅多一次矩形-瓦片相交判定，几乎无性能负担，却换来可观的 over-draw 收敛和缓存友好性。

    以下内容分成 **三个部分** 分别回答你的提问，并给出可操作的研究建议。公式用 θ∈[0°,90°] 表示椭圆长轴相对 x 轴的夹角，方便直观理解。

    ------

    ## 1 | x₁、y₂ 的含义

    先回顾 SnugBox 的极值求法：

    - 把高斯投影看成 2D 椭圆，其隐式方程可写成

      x ⁣⊤ ⁣Σ−1x=tα,\mathbf{x}^{\!\top}\!\Sigma^{-1}\mathbf{x}=t_{\alpha},

      其中 tα=−2ln⁡αt_{\alpha}=-2\ln\alpha。

    - 对该方程分别对 x, y 求偏导并令 ∂/∂x = 0、∂/∂y = 0，可得到四个极值点
       (xmin⁡,y1),  (xmax⁡,y2),  (x1,ymin⁡),  (x2,ymax⁡)(x_{\min},y_1),\;(x_{\max},y_2),\;(x_1,y_{\min}),\;(x_2,y_{\max})。

    > **x₁、y₂ 就是这四个点中“非极坐标”坐标的值**
    >
    > - x1x_1 是「当 y 取最小值 ymin⁡y_{\min} 时，椭圆在那条水平线与椭圆交点的 x」。
    > - y2y_2 是「当 x 取最大值 xmax⁡x_{\max} 时，椭圆在那条竖直线与椭圆交点的 y」。

    把它们与 μ=(cx,cy)\mu=(c_x,c_y) 比较，就能判断该交点落在中心左侧还是右侧，从而把四个交点一分为二，构成 **左盒 / 右盒**。

    ------

    ## 2 | 长边增量 δ(θ) 的设计

    **目标**：

    - 当椭圆几乎水平 (θ≈0°) 或垂直 (θ≈90°) 时，左右盒的长边各自再延伸到 **原来的一倍**（总宽度翻倍），以保证完全覆盖长尾。
    - 当椭圆 45° 斜置 (θ≈45°) 时，额外延伸应为 **0**，因为双盒已非常贴合。

    一个平滑、可微、易实现的方案是：

    s(θ)=1+∣cos⁡2θ∣,δ(θ)=(s(θ)−1) ℓ0s(θ)=1+| \cos 2θ |,\qquad δ(θ)=\bigl(s(θ)-1\bigr)\,\ell_0

    - s(θ)s(θ) 是 **缩放系数**：
      - θ = 0°/90° 时 ∣cos⁡2θ∣=1|\cos 2θ|=1，s=2s=2 → 拉伸 1 倍；
      - θ = 45° 时 ∣cos⁡2θ∣=0|\cos 2θ|=0，s=1s=1 → 不拉伸。
    - ℓ0\ell_0 为原长边长度（单盒情形），δ(θ)\delta(θ) 即需向外扩展的增量。
    - 优点：只用一条三角函数，无分段或查表，GPU 常数开销；且梯度连续，便于日后把 δ 加入可学习参数或自适应阈值。

    > **可选改进**
    >  若实测发现水平 / 垂直方向仍稍欠覆盖，可把系数调为
    >
    > s(θ)=1+β∣cos⁡2θ∣,β∈[1,1.2]s(θ)=1+\beta | \cos 2θ |,\quad \beta\in[1,1.2]
    >
    > 让峰值稍高于 2×；或在 15°–75° 之间加一段缓冲区，避免 δ 过早衰减。

    ------

    ## 3 | 倾角 θ 的两种求法与对比

    | 求角方式                                                     | 原理 & 公式                                     | 优点                                                         | 局限                                                         |
    | ------------------------------------------------------------ | ----------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | **Covariance→θ** θ=12arctan⁡2σxyσxx−σyy\theta = \tfrac12\arctan \frac{2σ_{xy}}{σ_{xx}-σ_{yy}}（等价写成 θ=arctan⁡2(b,a−c)\theta = \arctan2(b,a-c)，其中 a=σxx,  b=σxy,  c=σyya=σ_{xx},\;b=σ_{xy},\;c=σ_{yy}） | 直接来自高斯/椭圆协方差，本质是求特征向量角度。 | - **精确**：无数值误差；- **一次性**：训练阶段就已解出特征向量，渲染端可复用。 | - 若渲染端只保存射影椭圆 3×3 矩阵，需多一步 arctan2，少量算力开销。 |
    | **中点向量→θ** 以 (xmin⁡,ymax⁡)(x_{\min},y_{\max}) 与 μ\mu 的连线，与水平向量求角度：θ=arctan⁡2(ymax⁡−cy,  xmin⁡−cx)\theta = \arctan2(y_{\max}-c_y,\; x_{\min}-c_x) | 取外接矩形对角线中点，几何上近似长轴方向。      | - **无依赖协方差**：即便剪枝后只保留顶点坐标，仍能算；- **串行友好**：不需解矩阵，可纯几何。 | - 角度受 α 取值和外接矩形离群点影响，**对椭圆瘦薄时误差大**；- 若椭圆极端扁平，x_min 与 y_max 距离中心很远，数值稳定性差。 |

    > **推荐做法**
    >
    > - **高斯仍保留协方差时**：优先用特征向量法（arctan2），精度高且一次计算可同时得到长轴 / 短轴长度。
    > - **极端压缩后仅存顶点**：可退而求其次用几何中点法，但应加 **鲁棒性修正**，如：
    >   - 对角两点用 α 更大的阈值重算一次，避免利用远离中心的离群点；
    >   - 或对四个交点先做 RANSAC 拟合，取众数方向。

    ------

    ## 综合建议

    1. **先确定 δ(θ) 曲线**：推荐先用 s=1+∣cos⁡2θ∣s=1+| \cos 2θ | 作为 baseline，在多场景 A/B 测，若某些角度仍欠覆盖再微调 β。
    2. **倾角 θ 计算**：
       - Pipeline 内仍保留协方差 → 用 12arctan⁡2σxyσxx−σyy\tfrac12\arctan\frac{2σ_{xy}}{σ_{xx}-σ_{yy}}。
       - 若未来存储再压缩，可实现 fallback 几何法，但需额外稳健性处理。
    3. **实现层面**：δ 只影响左右盒长边，短边保持原 SnugBox/AccuTile 精度；渲染时每帧只多一次乘加和两次比较，可忽略不计。
    4. **实验验证**：在真实数据集上记录 **空瓦片率 vs θ** 和 **FPS 提升 vs θ**，验证 δ 曲线是否达到“可覆盖且不过度膨胀”的平衡。

    这样即可在保证几乎零 over-draw 增量的同时，最大化剪裁收益，为移动端或多视点大场景渲染提供更稳定的性能提升。